<p>
  <label for="settings_notice_url">Notice URL (Incoming Webhook URL)</label>
  <%= text_field_tag 'settings[notice_url]', @settings[:notice_url], size: 80 %>
</p>
<p>
  <label for="settings_notice_url_each_project">Set Notice URL for each project?</label>
  <%= check_box_tag 'settings[notice_url_each_project]', '1', @settings[:notice_url_each_project] == '1' %>
  <em class="info">
    If you checked, you will set the Notice URL for each project.
    Create and set a <%= link_to 'project custom field', { :controller => 'custom_fields', :action => 'new', :type => 'ProjectCustomField', :custom_field => { :name => 'Test Status URL' }} %> named "Test Status URL" (without quotes).<br/>
  </em>
</p>
<script>
//<![CDATA[
  function changeEnableAssignNoticeUrl() {
    if ($('#settings_notice_url_each_project').prop('checked')) {
      $('#settings_notice_url').prop('disabled', true);
    } else {
      $('#settings_notice_url').prop('disabled', false);
    }
  }

  $('#settings_notice_url_each_project').on('change', function() {
    changeEnableAssignNoticeUrl();
  });

  changeEnableAssignNoticeUrl();
//]]>
</script>
